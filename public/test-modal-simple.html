<!DOCTYPE html>
<html>
<head>
    <title>Simple Modal Test</title>
    <script src="/app.js"></script>
</head>
<body style="background: #1a1a2e; color: white; padding: 20px;">
    <h1>Modal Test</h1>
    <button onclick="testModal()" style="background: #10a37f; color: white; padding: 15px 30px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
        Test Modal'ƒ± A√ß
    </button>
    
    <div id="info" style="margin-top: 20px; padding: 15px; background: #0f1419; border-radius: 8px;">
        <h3>Kontroller:</h3>
        <ul id="checks"></ul>
    </div>
    
    <script>
        function testModal() {
            const testData = [
                {
                    name: 'ƒ∞stanbul Teknik √úniversitesi',
                    city: 'ƒ∞stanbul',
                    campus: 'Ayazaƒüa',
                    type: 'Devlet',
                    ranking: 1234,
                    quota: 150,
                    conditionNumbers: '5'
                },
                {
                    name: 'Boƒüazi√ßi √úniversitesi',
                    city: 'ƒ∞stanbul',
                    campus: 'Bebek',
                    type: 'Devlet',
                    ranking: 987,
                    quota: 120,
                    conditionNumbers: '3'
                },
                {
                    name: 'Yƒ±ldƒ±z Teknik √úniversitesi',
                    city: 'ƒ∞stanbul',
                    campus: 'Davutpa≈üa',
                    type: 'Devlet',
                    ranking: 380000,
                    quota: 30,
                    conditionNumbers: '18'
                }
            ];
            
            console.log('üß™ Test modal a√ßƒ±lƒ±yor...');
            console.log('üìä Test verisi:', testData);
            
            showEligibleUniversityModal('Bilgisayar M√ºhendisliƒüi', testData);
            
            // 1 saniye sonra kontrol et
            setTimeout(() => {
                const checks = [];
                
                // Modal var mƒ±?
                const modal = document.querySelector('.modal-overlay');
                checks.push(modal ? '‚úÖ Modal a√ßƒ±ldƒ±' : '‚ùå Modal a√ßƒ±lmadƒ±');
                
                // Checkbox'lar var mƒ±?
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                checks.push(`${checkboxes.length > 0 ? '‚úÖ' : '‚ùå'} ${checkboxes.length} checkbox bulundu`);
                
                // √úniversite kartlarƒ± var mƒ±?
                const cards = document.querySelectorAll('[style*="border-left: 4px solid"]');
                checks.push(`${cards.length > 0 ? '‚úÖ' : '‚ùå'} ${cards.length} √ºniversite kartƒ± bulundu`);
                
                // Export butonu var mƒ±?
                const exportBtn = document.querySelector('#exportToSheetsBtn');
                checks.push(exportBtn ? '‚úÖ Export butonu bulundu' : '‚ùå Export butonu yok');
                
                // Saya√ß var mƒ±?
                const counter = document.querySelector('#selectedCount');
                checks.push(counter ? `‚úÖ Saya√ß bulundu (${counter.textContent})` : '‚ùå Saya√ß yok');
                
                // Sonu√ßlarƒ± g√∂ster
                console.log('üìã Kontrol Sonu√ßlarƒ±:');
                checks.forEach(c => console.log(c));
                
                document.getElementById('checks').innerHTML = checks.map(c => `<li>${c}</li>`).join('');
                
                // Eƒüer checkbox yoksa HTML'i incele
                if (checkboxes.length === 0) {
                    console.error('‚ùå CHECKBOX YOK! Modal HTML:');
                    console.log(modal ? modal.innerHTML : 'Modal bulunamadƒ±');
                }
            }, 1000);
        }
        
        // Sayfa y√ºklenince fonksiyonlarƒ± kontrol et
        window.onload = function() {
            const funcs = [
                'showEligibleUniversityModal',
                'toggleUniversitySelection',
                'exportSelectedToGoogleSheets',
                'updateSelectedCount'
            ];
            
            console.log('üîç Fonksiyon Kontrolleri:');
            funcs.forEach(fname => {
                const exists = typeof window[fname] !== 'undefined';
                console.log(`${exists ? '‚úÖ' : '‚ùå'} ${fname}`);
            });
        };
    </script>
</body>
</html>
